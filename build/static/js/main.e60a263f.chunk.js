(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){e.exports={resultsWrapper:"paginated_resultsWrapper___tI-b",navigator:"paginated_navigator__hr5sz",repoWrapper:"paginated_repoWrapper__1Z9Xh",button:"paginated_button__kY-wE",investorsList:"paginated_investorsList__3Ldl8",investorsListHeader:"paginated_investorsListHeader__3v_nw",toggleVisibilityList:"paginated_toggleVisibilityList__3wog1",investorsListDonations:"paginated_investorsListDonations__1V_dp"}},40:function(e,t,n){e.exports={goBackBtn:"invest_goBackBtn__2KL7g",investWrapper:"invest_investWrapper__18JgR"}},41:function(e,t,n){e.exports={declareWrapper:"investAmount_declareWrapper__2m4fI"}},53:function(e,t,n){e.exports={aboutRepo:"aboutRepo_aboutRepo__2iAeu",repoDetails:"aboutRepo_repoDetails__1XBMU"}},58:function(e,t,n){e.exports={loadingWrapper:"loading_loadingWrapper__2GaLL"}},76:function(e,t,n){},78:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(56),r=n.n(s),i=(n(76),n(26)),o=n(7),j=n(4),l=n(1),b=Object(c.createContext)(),d=function(e){var t=e.children,n=Object(c.useState)([]),a=Object(j.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),o=Object(j.a)(i,2),d=o[0],u=o[1],O=Object(c.useState)([]),p=Object(j.a)(O,2),h=p[0],x=p[1];Object(c.useEffect)((function(){fetch("http://localhost:5000/getRepoList").then((function(e){return e.json()})).then((function(e){r(e),u(!0)})),fetch("http://localhost:5000/getInvestorsList").then((function(e){return e.json()})).then((function(e){x(e)}))}),[]);var v=Object(c.useState)(0),m=Object(j.a)(v,2),g=m[0],f=m[1];return Object(l.jsx)(b.Provider,{value:{handleMustRefresh:function(){fetch("http://localhost:5000/getInvestorsList").then((function(e){return e.json()})).then((function(e){x(e)}))},investorsList:h,repoList:s,isRepoListLoaded:d,lastPageOpened:g,handleSetLastPageOpened:function(e){f(e)}},children:t})},u=n(57),O=n.n(u),p=n(103),h=n(18),x=n(64),v=n.n(x),m=n(63),g=n.n(m),f=n(23),w=n.n(f),_=(n(78),n(59)),L=n.n(_),z=n(58),y=n.n(z),k=function(){return Object(l.jsxs)("div",{className:y.a.loadingWrapper,children:[Object(l.jsx)(L.a,{size:150}),Object(l.jsx)("p",{children:"\u0141aduje zawarto\u015b\u0107 strony..."})]})},C=function(e){var t=e.currentItems;return Object(l.jsx)(l.Fragment,{children:t&&t.map((function(e){return Object(l.jsx)(S,{data:e},e.id)}))})},S=function(e){var t=e.data,n=Object(c.useContext)(b).investorsList,a=Object(h.a)(p.a)((function(){return{backgroundColor:"white",borderColor:"#6cc644",color:"#6cc644","&:hover":{borderColor:"#6cc644"}}})),s=Object(c.useState)(!1),r=Object(j.a)(s,2),o=r[0],d=r[1],u=Object(c.useState)([]),O=Object(j.a)(u,2),x=O[0],m=O[1];Object(c.useEffect)((function(){for(var e=[],c=0;c<n.length;c++)n[c].projectID===t.id&&e.push(n[c]);m(e)}),[n]);return Object(l.jsxs)("div",{className:w.a.repoWrapper,children:[Object(l.jsxs)("h2",{children:["Nazwa Repozytorium: ",t.name]}),Object(l.jsxs)("h3",{children:["Autor: ",t.owner.login]}),Object(l.jsx)("span",{children:"Troch\u0119 informacji o repozytorium"}),Object(l.jsx)("p",{children:t.description}),Object(l.jsx)(i.b,{to:"/inwestuj/".concat(t.id),className:w.a.button,children:Object(l.jsx)(a,{variant:"outlined",color:"secondary",children:"Zainwestuj"})}),0===x.length?Object(l.jsx)("p",{children:"Nikt jeszcze nie zainwestowa\u0142 w to repozytorium, mo\u017cesz by\u0107 pierwszy"}):Object(l.jsxs)("div",{className:w.a.investorsList,children:[Object(l.jsxs)("div",{className:w.a.investorsListHeader,children:[Object(l.jsxs)("p",{children:["Liczba inwestor\xf3w: ",Object(l.jsx)("b",{children:x.length})]}),Object(l.jsxs)("p",{children:["Suma zainwestowanych \u015brodk\xf3w: ",Object(l.jsxs)("b",{children:[function(){for(var e=0,t=0;t<x.length;t++)e+=parseFloat(x[t].investAmount);return e}(),"z\u0142"]})]})]}),Object(l.jsx)("div",{className:w.a.toggleVisibilityList,onClick:function(){d(!o)},children:o?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(g.a,{}),"Ukryj list\u0119 inwestor\xf3w"]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v.a,{}),"Poka\u017c list\u0119 inwestor\xf3w"]})}),o?Object(l.jsx)("div",{className:w.a.investorsListDonations,children:x.map((function(e,t){return Object(l.jsx)(N,{data:e},t)}))}):null]})]})},N=function(e){var t=e.data;return Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:[t.investAmount,"z\u0142"]}),Object(l.jsx)("li",{children:t.investorEmail})]})},A=function(e){var t=e.itemsPerPage,n=Object(c.useContext)(b),a=n.repoList,s=n.isRepoListLoaded,r=n.lastPageOpened,i=n.handleSetLastPageOpened,o=Object(c.useState)(a),d=Object(j.a)(o,2),u=d[0],p=d[1],h=Object(c.useState)(0),x=Object(j.a)(h,2),v=x[0],m=x[1],g=Object(c.useState)(r*t),f=Object(j.a)(g,2),_=f[0],L=f[1];Object(c.useEffect)((function(){var e=_+t;p(a.slice(_,e)),m(Math.ceil(a.length/t))}),[_,t,a]);return Object(l.jsx)(l.Fragment,{children:s?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:w.a.resultsWrapper,children:Object(l.jsx)(C,{currentItems:u})}),Object(l.jsx)("div",{className:w.a.navigator,children:Object(l.jsx)(O.a,{breakLabel:"...",nextLabel:">",onPageChange:function(e){var n=e.selected*t%a.length;L(n),i(e.selected)},pageRangeDisplayed:1,pageCount:v,previousLabel:"<",renderOnZeroPageCount:null,forcePage:r})})]}):Object(l.jsx)(k,{})})},P=n(53),W=n.n(P),R=n(65),E=n.n(R),D=n(40),I=n.n(D),B=n(66),F=n.n(B),V=Object(h.a)(p.a)((function(){return{backgroundColor:"white",borderColor:"#6cc644",color:"#6cc644","&:hover":{borderColor:"#6cc644"}}})),M=function(e){var t=e.repo,n=Object(o.g)();return Object(l.jsxs)("div",{className:W.a.aboutRepo,children:[Object(l.jsxs)(V,{variant:"outlined",className:I.a.goBackBtn,onClick:n.goBack,children:[Object(l.jsx)(E.a,{})," Powr\xf3t do listy"]}),Object(l.jsxs)("div",{className:W.a.repoDetails,children:[Object(l.jsxs)("h2",{children:["Nazwa Repozytorium: ",t.name]}),Object(l.jsxs)("h3",{children:["Autor: ",void 0===t.owner?"":t.owner.login]}),Object(l.jsx)("span",{children:"Troch\u0119 informacji o repozytorium"}),Object(l.jsx)("p",{children:t.description}),Object(l.jsxs)("p",{children:[Object(l.jsx)(F.a,{}),Object(l.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:"Link do projektu"})]})]})]})},J=n(41),T=n.n(J),Z=Object(h.a)(p.a)((function(){return{backgroundColor:"white",borderColor:"#6cc644",color:"#6cc644","&:hover":{borderColor:"#6cc644"}}})),H=function(e){var t=e.isValidationOn,n=e.amountAccepted,c=e.emailAccepted,a=e.investAmount,s=e.investorEmail,r=e.setAmount,i=e.setEmail,o=e.nextStep;return Object(l.jsxs)("div",{className:T.a.declareWrapper,children:[Object(l.jsx)("h2",{children:"Chcesz zainwestowa\u0107 w ten projekt?"}),Object(l.jsx)("label",{children:"Ile chcesz zainwestowa\u0107?"}),Object(l.jsx)("input",{type:"text",value:a,onChange:r}),t?n?null:Object(l.jsx)("span",{children:"Warto\u015b\u0107 musi by\u0107 liczb\u0105 z zakresu od 0.10z\u0142 do 2500z\u0142"}):null,Object(l.jsx)("label",{children:"Adres email"}),Object(l.jsx)("input",{type:"text",value:s,onChange:i}),t?c?null:Object(l.jsx)("span",{children:"Pole nie spe\u0142nia wymaga\u0144 pola email"}):null,Object(l.jsx)(Z,{variant:"outlined",onClick:o,children:"Przjed\u017a do podsumowania"})]})},U=n(68),X=n.n(U),$=n(67),G=n.n($),K=Object(h.a)(p.a)((function(){return{backgroundColor:"white",borderColor:"#6cc644",color:"#6cc644","&:hover":{borderColor:"#6cc644"}}})),Y=function(e){var t=e.investAmount,n=e.investorEmail,a=e.projectData,s=Object(c.useContext)(b).handleMustRefresh,r=Object(c.useState)(!1),i=Object(j.a)(r,2),d=i[0],u=i[1],O=Object(c.useState)(!1),p=Object(j.a)(O,2),h=p[0],x=p[1],v=Object(c.useState)(!1),m=Object(j.a)(v,2),g=m[0],f=m[1];return Object(l.jsxs)(l.Fragment,{children:[g?Object(l.jsx)(o.a,{to:"/"}):null,Object(l.jsxs)("form",{className:T.a.declareWrapper,onSubmit:function(e){if(e.preventDefault(),u(!0),h){var c={projectID:a.id,investAmount:t,investorEmail:n};fetch("http://localhost:5000/saveInvestorData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(){s(),f(!0)}))}},children:[Object(l.jsx)("h2",{children:"Podsumowanie inwestycji"}),Object(l.jsxs)("p",{children:[Object(l.jsx)(G.a,{})," ",t,"z\u0142"]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(X.a,{})," ",n]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"checkbox",checked:!!h,onChange:function(e){x(e.target.checked)}}),"Potwierdzam i\u017c powy\u017csze dane s\u0105 prawid\u0142owe"]}),d?h?null:Object(l.jsx)("span",{children:"Aby kontynuowa\u0107 potwierd\u017a \u017ce dane s\u0105 prawdziwe"}):null,Object(l.jsx)(K,{type:"submit",variant:"outlined",children:"Zainwestuj"})]})]})},q=function(){var e=Object(o.h)().id,t=Object(c.useContext)(b),n=t.repoList,a=t.isRepoListLoaded,s=Object(c.useState)({}),r=Object(j.a)(s,2),i=r[0],d=r[1];Object(c.useEffect)((function(){for(var t=0;t<n.length;t++)n[t].id==e&&d(n[t])}),[e,n]);var u=Object(c.useState)(""),O=Object(j.a)(u,2),p=O[0],h=O[1],x=Object(c.useState)(!1),v=Object(j.a)(x,2),m=v[0],g=v[1],f=Object(c.useState)(""),w=Object(j.a)(f,2),_=w[0],L=w[1],z=Object(c.useState)(!1),y=Object(j.a)(z,2),C=y[0],S=y[1],N=Object(c.useState)(!1),A=Object(j.a)(N,2),P=A[0],W=A[1],R=Object(c.useState)(!1),E=Object(j.a)(R,2),D=E[0],B=E[1];return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsxs)("div",{className:I.a.investWrapper,children:[Object(l.jsx)(M,{repo:i}),P?Object(l.jsx)(Y,{projectData:i,investAmount:p,investorEmail:_}):Object(l.jsx)(H,{isValidationOn:D,amountAccepted:m,emailAccepted:C,investAmount:p,investorEmail:_,setAmount:function(e){var t=e.target.value;h(t);/(^[0-9]{1}[0-9.]{0,5}[0-9]{1}$)/.test(t)&&t>=.1&&t<=2500?g(!0):g(!1)},setEmail:function(e){var t=e.target.value;L(t);/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?S(!0):S(!1)},nextStep:function(){D||B(!0),m&&C&&W(!0)}})]}):Object(l.jsx)(k,{})})},Q=function(){return Object(l.jsx)(i.a,{children:Object(l.jsx)("div",{className:"wrapper",children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/",children:Object(l.jsx)(A,{itemsPerPage:10})}),Object(l.jsx)(o.b,{exact:!0,path:"/inwestuj/:id",children:Object(l.jsx)(q,{})})]})})})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(d,{children:Object(l.jsx)(Q,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.e60a263f.chunk.js.map